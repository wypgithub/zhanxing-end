/*! jQuery Text Animation - v1.2.0 - 2012-08-15
* https://github.com/sideroad/jquery.textanimation
* Copyright (c) 2012 sideroad; Licensed MIT, GPL */
(function(a){a.fn.textAnimation=function(b){function d(b){if(b.hasClass("isTextAnimated"))return;var c=b.text();b.html("");for(var d=0;d<c.length;d++){var e=a("<span></span>").text(c.charAt(d));b.append(e)}b.addClass("isTextAnimated")}function e(b,c,d){if(b.hasClass("isTextAnimated"))return;var e=b.text();b.html("");var f={position:"absolute"};d=d||"bottom",f[d]="0px",c===!1&&(c=b.css("fontSize").replace(/px/,"")/1.25);for(var g=0;g<e.length;g++){f.left=c*g;var h=a("<div></div>").text(e.charAt(g)).css(f);b.append(h)}b.addClass("isTextAnimated").css({position:"relative"})}function f(a,b,c){var d=a.time,e=a.interval,f=a.repeat,g,h=e+d;c&&(h*=2);var i=a.e;a.onStart?i.bind(a.onStart,function(){if(g)return;b(),f&&(g=setInterval(b,h),c&&setTimeout(function(){c(),f&&setInterval(c,h)},h/2))}):(b(),f&&setInterval(b,h),c&&setTimeout(function(){c(),f&&setInterval(c,h)},h/2)),a.onFinish&&i.bind(a.onFinish,function(){g&&f&&(clearInterval(g),g=!1),c&&c()})}var c=this;b=a.extend({mode:"roll"},b);var g={roll:function(c){var d=a.extend({e:c,minsize:15,magnification:15,delay:30,interval:0,repeat:!0,onStart:!1,onFinish:!1,onToggle:!1,stuff:1,fixed:"bottom",top:1},b);e(c,d.minsize/d.stuff,d.fixed);var g=0,h=d.minsize,i=d.magnification;c.css({height:h+i+"px",textAlign:"center"});var j=c.children(),k=d.delay,l=k*j.length,m=!1,n=function(){j.each(function(b,c){c.style.width=h+"px",a(c).transition({fontSize:h+i,duration:l,easing:"in-out",delay:k*b}).transition({fontSize:h,duration:l,easing:"in-out"})})};d.time=l*3,f(d,n)},step:function(c){var d=a.extend({e:c,minsize:12,maxsize:35,fixed:"bottom",upper:!0,stuff:2,delay:50,interval:3e3,duration:300,repeat:!0,onStart:!1,onFinish:!1},b);e(c,d.minsize,d.fixed),c.css({height:d.maxsize+"px",textAlign:"center"});var g=c.children().css({fontSize:"0px",width:"0px",left:"0px",opacity:0}),h=g.length,i=(d.maxsize-d.minsize)/(h-1),j=d.minsize,k=d.upper;k||(i*=-1,j=d.maxsize);var l=d.duration,m=d.delay,n=d.stuff,o=d.interval,p=function(){var b=0;g.each(function(c,d){var e=j+i*c;a(d).transition({fontSize:e+"px",width:e,left:b,opacity:1,duration:l,delay:m*c}),b+=e/n})},q=function(){g.each(function(b,c){a(c).transition({fontSize:"0px",width:0,left:0,opacity:0,delay:m*b,duration:l})})};d.time=d.delay*h+l,f(d,p,q)},highlight:function(c){var e=a.extend({e:c,baseColor:"#AAAAAA",highlightColor:"#FDFF00",delay:50,interval:100,duration:300,repeat:!0,onStart:!1,onFinish:!1},b);d(c);var g=0,h=c.children().css({color:e.baseColor}),i=h.length;!e.interval&&!e.delay&&(e.interval=100);var j=e.highlightColor,k=e.baseColor,l=e.duration,m=e.delay,n=function(){h.each(function(b,c){a(c).transition({color:j,delay:m*b,duration:l}).transition({color:k,duration:l})})};e.time=e.delay*i+l*3,f(e,n)},jump:function(c){var d=a.extend({e:c,altitude:30,bound:!0,delay:400,interval:300,duration:600,fixed:"bottom",repeat:!0,onStart:!1,onFinish:!1},b);e(c,!1,d.fixed),c.css({height:c.css("fontSize")});var g=0,h=c.children(),i=h.length;!d.interval&&!d.delay&&(d.interval=100);var j=d.altitude,k=d.bound,l=d.duration,m=d.delay,n=d.bound?"in":"in-out",o=d.fixed,p=function(){h.each(function(b,c){var d={duration:l,delay:m*b,easing:"out"};d[o]=j;var e={duration:l,easing:n};e[o]=0,a(c).transition(d).transition(e)})};d.time=d.delay*i+l*2,f(d,p)},puff:function(c){var d=a.extend({e:c,duration:600,interval:600,onStart:!1,onFinish:!1,repeat:!0,percent:300,color:!1,times:1},b),e=function(){var b=c.position(),e={position:"absolute",left:b.left+"px",top:b.top+"px","z-index":-1e3};d.color&&(e.color=d.color),d.backgroundColor&&(e.backgroundColor=d.backgroundColor),c.clone().attr("id","").insertBefore(c).css(e).transition({opacity:0,scale:1.6,duration:d.duration},function(){a(this).remove()})};d.time=d.duration,f(d,e)}};return c.each(function(){g[b.mode](a(this))})}})(jQuery);